{% extends 'base.html' %}
{%load static %}

{% block content %}

<style>
    .containers {
        display:grid;
        grid-template-columns: repeat(auto-fit,minmax(250px,1fr)); 
        gap: 30px;
    }
    .carousel{
    }
</style>
<div class="container mt-4">

    <div class="containers">
        <div id="carouselExampleInterval" class="carousel slide mb-3" data-bs-ride="carousel">
    <!-- Carousel indicators -->
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleInterval" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleInterval" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleInterval" data-bs-slide-to="2" aria-label="Slide 3"></button>
    </div>
    
    <div class="carousel-inner rounded-3 shadow-lg">
        <div class="carousel-item active" data-bs-interval="2000">
            <img src="{% static 'images/gallary-2.jpg' %}" class="d-block w-100 rounded-3" alt="石英矿区图片1" style="max-height: 500px; object-fit: cover;">
             
        </div>
        <div class="carousel-item" data-bs-interval="2000">
            <img src="{% static 'images/gallary-3.jpg' %}" class="d-block w-100 rounded-3" alt="石英矿区图片2" style="max-height: 500px; object-fit: cover;">
             
        </div>
        <div class="carousel-item" data-bs-interval="3000">
            <img src="{% static 'images/gallary-4.jpg' %}" class="d-block w-100 rounded-3" alt="石英矿区图片3" style="max-height: 500px; object-fit: cover;">
            
        </div>
    </div>
    
    <!-- Custom styled navigation buttons -->
    <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
        <span class="carousel-control-prev-icon bg-dark rounded-circle p-3" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
        <span class="carousel-control-next-icon bg-dark rounded-circle p-3" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button> -->
</div>

<!-- Optional: Add some custom CSS for better styling -->
<style>
    .carousel-indicators button {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin: 0 5px;
    }
    
    .carousel-control-prev, .carousel-control-next {
        width: 5%;
    }
    
    .carousel-item img {
        transition: transform 0.3s ease;
    }
    
    .carousel:hover .carousel-item img {
        transform: scale(1.02);
    }
</style>
        <div class="text-side">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Perspiciatis, quos, vel exercitationem vero
            laudantium esse sed, quas sequi aperiam consequatur inventore cum placeat aliquid nam sit praesentium ea.
            Ex, fuga.
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section text-center mb-5 py-5 rounded-3">
        <div class="container py-4">
            <h1 class="display-4 fw-bold text-white mb-3">Meet Our Staffs Team</h1>
            <p class="lead text-white mb-4">Dedicated professionals committed to your health and well-being</p>
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <p class="text-white-50">Our hospital brings together the finest medical experts, nurses, and
                        support staff who work collaboratively to provide exceptional patient care with compassion and
                        expertise.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Department Navigation -->
    <!-- <section class="department-nav mb-5">
        <h2 class="text-center mb-4">Browse by Department</h2>
        <div class="text-center mb-4" >
            <button class="btn btn-lg me-2 mb-2 px-4 active" onclick="loadAllImages()" style="background-color: #223a66; color: white;">All
                Departments</button>
            {% for dept in departments %}
            <button class="btn me-2 mb-2 department-btn"
                onclick="filterDepartment({{ dept.id }})">{{ dept.Name }}</button>
            {% endfor %}
            <style>
                .department-btn:hover{
                  background-color: #223a66; color: white; transition: .9s;
                }
            </style>
        </div>
    </section> -->
    <!-- Gallery Section -->
    <div class="container">
        {% include 'gallery_list.html' %}
    </div>
    <!-- Stats Section -->

    <section class="stats-section mb-5 py-4 bg-light rounded-3">
        <div class="container">
            <div class="row text-center" style="color: #223a66;">
                <div class="col-md-3 col-6 mb-3">
                    <div class="stat-item">
                        <h3 class="fw-bold ">150+</h3>
                        <p class="text-muted">Medical Professionals</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                    <div class="stat-item">
                        <h3 class="fw-bold ">12</h3>
                        <p class="text-muted">Specialized Departments</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                    <div class="stat-item">
                        <h3 class="fw-bold ">24/7</h3>
                        <p class="text-muted">Emergency Care</p>
                    </div>
                </div>
                <div class="col-md-3 col-6 mb-3">
                    <div class="stat-item">
                        <h3 class="fw-bold ">98%</h3>
                        <p class="text-muted">Patient Satisfaction</p>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <!-- Values Section -->
    <section class="values-section mb-5 py-5  text-white rounded-3" style="background-color: #00c6a9; color: white;">
        <div class="container">
            <h2 class="text-center mb-5 text-white">Our Commitment to Excellence</h2>
            <div class="row">
                <div class="col-md-4 text-center mb-4">
                    <div class="value-icon mb-3">
                        <i class="bi bi-heart-pulse display-4"></i>
                    </div>
                    <h4 style="color: white;">Patient-Centered Care</h4>
                    <p>We prioritize your health needs and preferences in every decision we make.</p>
                </div>
                <div class="col-md-4 text-center mb-4">
                    <div class="value-icon mb-3">
                        <i class="bi bi-shield-check display-4"></i>
                    </div>
                    <h4 style="color: white;">Safety First</h4>
                    <p>Your safety and well-being are our top priorities in all procedures and treatments.</p>
                </div>
                <div class="col-md-4 text-center mb-4">
                    <div class="value-icon mb-3">
                        <i class="bi bi-people display-4"></i>
                    </div>
                    <h4 style="color: white;">Collaborative Approach</h4>
                    <p>Our specialists work together to provide comprehensive, coordinated care.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section text-center py-5 mb-5 rounded-3" style="background-color: #f8f9fa;">
        <div class="container">
            <h2 class="mb-3">Need to Schedule an Appointment?</h2>
            <p class="lead mb-4">Contact us today to book a consultation with one of our specialists.</p>
            <div class="d-flex justify-content-center flex-wrap gap-3">
                <a href="" class="btn btn-outline-primary btn-lg px-4">Book Appointment</a>
            </div>
        </div>
    </section>
</div>

<!-- Loading Spinner -->
<div id="loadingSpinner" class="d-none text-center py-5">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2">Loading staff members...</p>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script>
    function filterDepartment(deptId) {

        // Show loading spinner
        document.getElementById('loadingSpinner').classList.remove('d-none');

        // Update active button state
        document.querySelectorAll('.department-btn').forEach(btn => {
            btn.classList.remove('active');
            btn.classList.add('btn-outline-primary');
        });

        document.querySelector(`.department-btn[onclick="filterDepartment(${deptId})"]`).classList.add('active');
        document.querySelector(`.department-btn[onclick="filterDepartment(${deptId})"]`).classList.remove('btn-outline-primary');

        //     $.ajax({
        //         url: `/filter_images/${deptId}/`,
        //         type: 'GET',
        //         success: function (response) {
        //             const gallery = document.getElementById('gallery');
        //             gallery.innerHTML = '';

        //             if (response.images.length === 0) {
        //                 gallery.innerHTML = `
        //                 <div class="col-12 text-center py-5">
        //                     <i class="bi bi-people display-1 text-muted"></i>
        //                     <h3 class="mt-3 text-muted">No staff members in this department</h3>
        //                     <p class="text-muted">Please check back later or browse other departments.</p>
        //                 </div>
        //             `;
        //             } else {
        //                 response.images.forEach(img => {
        //                           const imageUrl = img.staff_pic ? img.staff_pic : '/static/images/pic.jpg';

        //                     const card = `
        //                     <div class="col-xl-3 col-lg-4 col-md-6">
        //                         <div class="card staff-card h-100 shadow-sm border-0 overflow-hidden">

        //                             <div class="staff-img-container position-relative">
        //                                 <img src="${imageUrl}" class="card-img-top staff-image" alt="${img.staff_name}">
        //                             </div> 

        //                             <div class="card-body text-center p-3"> 
        //                                 <h5 class="card-title mb-1">${img.staff_name}</h5>

        //                                 <p class="card-text text-primary fw-semibold mb-2">${img.staff_position}</p>

        //                                 <div class="staff-meta d-flex justify-content-center small text-muted">
        //                                     <span class="me-3">
        //                                     </span>
        //                                     <span>
        //                                         <i class="bi bi-star-fill me-1 text-warning"></i> 4.8
        //                                     </span>
        //                                 </div>
        //                             </div>
        //                         </div>
        //                     </div>
        //                 `;
        //                     gallery.insertAdjacentHTML('beforeend', card);
        //                 });
        //             }

        //             // Hide loading spinner
        //             document.getElementById('loadingSpinner').classList.add('d-none');
        //         },
        //         error: function () {
        //             alert('Error loading staff members. Please try again.');
        //             document.getElementById('loadingSpinner').classList.add('d-none');
        //         }
        //     });
        // }
        }
        function loadAllImages() {
            // Reset active button state
            document.querySelectorAll('.department-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('btn-outline-primary');
            });
            document.querySelector('.btn-lg.active').classList.remove('active');

            location.reload();

        }
</script>

<style>
    .hero-section {
        background-color:  #00c6a9;
    }

    .staff-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: 12px;
    }

    .staff-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1) !important;
    }

    .staff-img-container {
        height: 250px;
        overflow: hidden;

    }

    .staff-image {
        height: 100%;
        width: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    @media (max-width:768px) {

        .staff-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-radius: 12px;
            width: 80%;
            margin-left: 50px;
        }
    }

    .staff-card:hover .staff-image {
        transform: scale(1.05);
    }

    .department-badge {
        font-size: 0.75rem;
        z-index: 1;
    }

    .value-icon i {
        color: rgba(255, 255, 255, 0.8);
    }

    .stats-section .stat-item h3 {
        font-size: 2.5rem;
    }

    @media (max-width: 768px) {
        .hero-section h1 {
            font-size: 2rem;
        }

        .stats-section .stat-item h3 {
            font-size: 1.8rem;
        }

        .btn-lg {
            padding: 0.5rem 1rem;
            font-size: 1rem;
        }
    }
</style>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

{% endblock %}